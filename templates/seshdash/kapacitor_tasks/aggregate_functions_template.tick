// Example report tick script
// A user wants to get average(mean) for a field battery_voltage in a db called sesh
// The result will be outputed in a field called mean_battery_voltage in the sesh db

var points = batch
    |query ('''SELECT mean(value) FROM "test_db"."autogen"."battery_voltage"''')
        .period(10w)
        .every(1s)

points
    |influxDBOut()
        .database('test_db')
        .measurement('mean_battery_voltage')
