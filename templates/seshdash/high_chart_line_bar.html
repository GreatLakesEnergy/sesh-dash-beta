{% comment %}

  This is the data analysis graph,
  It has selectable measurements,
  It plots measurements against each other

{% endcomment %}



{% block graphs %}
    <div class="col-lg-12" id="dynamic_graphss">
        <div class="panel panel-info">
            <div class="panel-heading">
                <!-- TODO make this a variable -->
                <i class="fa fa-bar-chart-o fa-fw" ></i>
                <span id="title-message" >Data Analysis</span>
            </div>
            <div class="panel-body">
                    <div  id="containerhigh">
                    </div>

                    {# Loader #}
                    <div class="graph-loader">
                         <div class="spinner">
                              <div class="rect1"></div>

                              <div class="rect2"></div>

                              <div class="rect3"></div>

                              <div class="rect4"></div>

                              <div class="rect5"></div>
                        </div>
                   </div>

            </div>

            <div class="panel-footer">

		    <div class="row" id ="dynamic_graph_container">
			     <div id="x-axis" class="col-md-2">
			          <label for="">Select an option</label>

			          <select class="form-control" id="drop1" value="cloud_cover">
				                  {% for key,value in measurements.items %}
                                         {% if key == "cloud_cover"%}
                                             <option value="{{key}}" selected="selected"> {{value}}</option>
                                         {% else %}
                                             <option value="{{key}}">{{value}}</option>
                                         {% endif %}
		                     {% endfor %}
			          </select>

			    </div>
			    <div id="y-axis" class="col-md-2">
			         <label>Select another option</label>
			         <select class="form-control" id="drop2" >
				             {{ measurements }}
				             {% for key,value in measurements.items %}
                                {% if key = "pv_production"%}
                                      <option value="{{key}}" selected="selected"> {{value}}</option>
                                {% else %}
                                      <option value="{{key}}">{{value}}</option>
                                {% endif %}

				             {% endfor %}
			         </select>
			    </div>
              
                <div class="col-md-2" >
                     <div class="form-group"> 
                         <label for="start-time">Start time</label>
                         <input type="date" name="start-time" class="form-control" id="start-time">
                     </div>
                </div>

                
                <div class="col-md-2">
                     <div class="form-group">
                         <label for="end-time">End time</label>
                         <input type="date" name="end-time"   class="form-control" id="end-time">
                     </div>
                </div>

                     <div class ="filter-form col-md-2" id ="time_value">
                          <div class ="data-sort-container">
                               <label>Choose a time range </label>
                               <select class ="form-control" id ="resolution">
                                       <option class="drop-options" value="1h">Hourly</option>
                                       <option class="drop-options" value ="24h" selected="selected">Daily</option>
                                       <option class="drop-options" value ="7d">Weekly</option>
                                       <option class="drop-options" value ="30d">Monthly</option>
                               </select>
                          </div>
                     </div>


                  <button type="button" class="btn btn-info col-md-" id='dynamic_graph_button'>Update graph</button>

               </div>
                
            </div>

        </div>
    </div>


    <!--The javascript which call  to get_high_chart() to draw how chart and the function is in the sesh_dashboard.js -->

    <script language="JavaScript">

        date = [
                {% for date2 in high_chart.high_date %}
                              '{{date2}}' ,
                 {%endfor%}


                ];



    </script>



    {% endblock %}
